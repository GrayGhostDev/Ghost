# Ghost Backend Framework - Environment Configuration
# DO NOT commit this file to version control!

# Basic settings
ENVIRONMENT=development
DEBUG=true
PROJECT_NAME=Ghost Backend

# Database configuration
DATABASE_URL=postgresql://postgres:@localhost:5432/ghost_db
REDIS_URL=redis://localhost:6379/0

# Individual database settings (for config.py)
DB_HOST=localhost
DB_PORT=5432
DB_NAME=ghost_db
DB_USER=postgres
DB_PASSWORD=    # Will be loaded from macOS Keychain
DB_DRIVER=postgresql

# Application Settings
LOG_LEVEL=INFO
SECRET_KEY=    # Will be loaded from macOS Keychain

# Development Settings
PYTHONPATH=./src

# ==================================================================
# LOGGING CONFIGURATION
# ==================================================================
LOG_LEVEL=INFO                      # Options: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FILE=logs/app.log              # Log file path
LOG_MAX_SIZE=10MB                  # Max log file size before rotation
LOG_BACKUP_COUNT=5                 # Number of backup log files to keep
LOG_FORMAT=json                    # Options: json, text

# Console logging
LOG_TO_CONSOLE=true
LOG_COLORIZE=true                  # Colorize console output

# ==================================================================
# MONITORING & OBSERVABILITY
# ==================================================================
# Sentry (Error tracking) - API key loaded from keychain
SENTRY_DSN=    # Set via keychain: Ghost-Backend-Sentry-DSN

# Health check endpoints
HEALTH_CHECK_ENABLED=true
METRICS_ENABLED=true

# ==================================================================
# FILE STORAGE
# ==================================================================
# Local file storage
UPLOAD_DIR=uploads/
MAX_FILE_SIZE=10MB
ALLOWED_FILE_TYPES=["jpg","jpeg","png","pdf","doc","docx"]

# ==================================================================
# API & SECURITY CONFIGURATION
# ==================================================================
# API Configuration
API_HOST=127.0.0.1
API_PORT=8000

# CORS Configuration
CORS_ORIGINS=["http://localhost:3000","http://localhost:3001","http://localhost:4200"]

# ==================================================================
# DEVELOPMENT/TESTING SPECIFIC
# ==================================================================
# Test database (only used when ENVIRONMENT=testing)
TEST_DB_NAME=test_ghost_db

# Development tools
AUTO_RELOAD=true                   # Auto-reload on code changes (dev only)
SQL_ECHO=false                     # Echo SQL queries to console

# ==================================================================
# LEGACY COMPATIBILITY (if migrating from older systems)
# ==================================================================
DATABASE_URL=postgresql://postgres:@localhost:5432/ghost_db
REDIS_URL=redis://localhost:6379/0
PYTHONPATH=./src

# Email Services - API keys loaded from keychain
# SendGrid API key: keychain service "Ghost-Backend-SendGrid"
# AWS credentials: keychain service "Ghost-Backend-AWS"

# ==================================================================
# DATABASE CONFIGURATION
# ==================================================================
# PostgreSQL (Recommended for production)
DB_HOST=localhost
DB_PORT=5432
DB_NAME=ghost_db                    # Change this to your database name
DB_USER=postgres                    # Change this to your database user
DB_PASSWORD=    # REQUIRED: Set via keychain service "Ghost-DB-Password"
DB_DRIVER=postgresql

# Alternative: SQLite (Good for development/testing)
# DB_DRIVER=sqlite
# DB_NAME=myapp.db

# Database connection pooling
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_ECHO=false                       # Set to true for SQL query debugging

# ==================================================================
# REDIS CONFIGURATION
# ==================================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=                     # Leave empty if no auth required
REDIS_DECODE_RESPONSES=true
REDIS_SOCKET_TIMEOUT=5
REDIS_CONNECTION_POOL_MAX_CONNECTIONS=10

# ==================================================================
# AUTHENTICATION & SECURITY
# ==================================================================
# JWT Configuration - Keys loaded from macOS Keychain
# Keychain service: "Ghost-Backend-JWT-Secret"
JWT_SECRET_KEY=    # Loaded from keychain
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# Password Security
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_SPECIAL=true
PASSWORD_REQUIRE_NUMBERS=true
PASSWORD_REQUIRE_UPPERCASE=true

# API Keys - Loaded from keychain service "Ghost-Backend-API-Keys"
API_KEY=    # Loaded from keychain

# ==================================================================
# EXTERNAL API CONFIGURATION
# ==================================================================
# All API keys are loaded from macOS Keychain for security
# Keychain services:
#   - Ghost-Backend-Anthropic-API
#   - Ghost-Backend-OpenAI-API  
#   - Ghost-Backend-GitHub-PAT
#   - Ghost-Backend-Brave-API

# Anthropic API - loaded from keychain
ANTHROPIC_ADMIN_API_KEY=    # Keychain: "Ghost-Backend-Anthropic-API"

# OpenAI API - loaded from keychain  
OPENAI_API_KEY=    # Keychain: "Ghost-Backend-OpenAI-API"

# GitHub Personal Access Token - loaded from keychain
GITHUB_PAT=    # Keychain: "Ghost-Backend-GitHub-PAT"

# Brave Search API - loaded from keychain
BRAVE_API_KEY=    # Keychain: "Ghost-Backend-Brave-API"
